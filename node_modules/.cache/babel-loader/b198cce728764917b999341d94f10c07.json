{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gode4\\\\BlogPost\\\\src\\\\containers\\\\Blog\\\\Posts\\\\Posts.js\";\nimport React, { Component } from 'react';\nimport axios from '../../../axios';\nimport Post from '../../../components/Post/Post';\nimport classes from './Posts.module.css';\nimport { Link } from 'react-router-dom';\n\nclass Posts extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: []\n    };\n\n    this.postSelectedHandler = id => {\n      this.props.history.push({\n        pathname: '/' + id\n      }); //this.props.history.push( '/' + id);\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    axios.get('/posts').then(response => {\n      const posts = response.data.slice(0, 4);\n      const updatedPosts = posts.map(post => {\n        return { ...post,\n          author: 'Max'\n        };\n      });\n      this.setState({\n        posts: updatedPosts\n      }); // console.log( response );\n    }).catch(error => {\n      console.log(error); // this.setState({error: true});\n    });\n  }\n\n  render() {\n    let posts = /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, \"Something went wrong!\");\n\n    if (!this.state.error) {\n      posts = this.state.posts.map(post => {\n        return (\n          /*#__PURE__*/\n          // when clicked on a post it should get loaded\n          // one way is to wrap the post component arount Link and \n          // another way is to use postSelectedHandler in post component props\n          //<Link to={'/' + post.id} key={post.id} >\n          React.createElement(Post, {\n            key: post.id,\n            title: post.title,\n            author: post.author,\n            clicked: () => this.postSelectedHandler(post.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 25\n            }\n          }) // </Link>\n\n        );\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: classes.Posts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, posts), /*#__PURE__*/React.createElement(Route, {\n      path: \"/:id\",\n      component: FullPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Posts;","map":{"version":3,"sources":["C:/Users/gode4/BlogPost/src/containers/Blog/Posts/Posts.js"],"names":["React","Component","axios","Post","classes","Link","Posts","state","posts","postSelectedHandler","id","props","history","push","pathname","componentDidMount","console","log","get","then","response","data","slice","updatedPosts","map","post","author","setState","catch","error","render","textAlign","title","FullPost"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;;AACA,MAAMC,KAAN,SAAoBL,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC1BM,KAD0B,GAClB;AACJC,MAAAA,KAAK,EAAE;AADH,KADkB;;AAAA,SAwB1BC,mBAxB0B,GAwBHC,EAAD,IAAQ;AAC1B,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB;AAACC,QAAAA,QAAQ,EAAG,MAAMJ;AAAlB,OAAxB,EAD0B,CAE1B;AACH,KA3ByB;AAAA;;AAI1BK,EAAAA,iBAAiB,GAAI;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAjB;AACAT,IAAAA,KAAK,CAACgB,GAAN,CAAW,QAAX,EACKC,IADL,CACWC,QAAQ,IAAI;AACf,YAAMZ,KAAK,GAAGY,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,CAApB,EAAuB,CAAvB,CAAd;AACA,YAAMC,YAAY,GAAGf,KAAK,CAACgB,GAAN,CAAUC,IAAI,IAAI;AACnC,eAAO,EACH,GAAGA,IADA;AAEHC,UAAAA,MAAM,EAAE;AAFL,SAAP;AAIH,OALoB,CAArB;AAMA,WAAKC,QAAL,CAAc;AAACnB,QAAAA,KAAK,EAAEe;AAAR,OAAd,EARe,CASf;AACH,KAXL,EAYKK,KAZL,CAYWC,KAAK,IAAI;AACZb,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ,EADY,CAEZ;AACH,KAfL;AAgBH;;AAODC,EAAAA,MAAM,GAAI;AACN,QAAItB,KAAK,gBAAG;AAAG,MAAA,KAAK,EAAE;AAACuB,QAAAA,SAAS,EAAE;AAAZ,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAZ;;AACA,QAAI,CAAC,KAAKxB,KAAL,CAAWsB,KAAhB,EAAuB;AACnBrB,MAAAA,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBgB,GAAjB,CAAqBC,IAAI,IAAI;AACjC;AAAA;AACR;AACA;AACA;AACY;AACI,8BAAC,IAAD;AACI,YAAA,GAAG,EAAEA,IAAI,CAACf,EADd;AAEI,YAAA,KAAK,EAAEe,IAAI,CAACO,KAFhB;AAGI,YAAA,MAAM,EAAEP,IAAI,CAACC,MAHjB;AAII,YAAA,OAAO,EAAE,MAAM,KAAKjB,mBAAL,CAAyBgB,IAAI,CAACf,EAA9B,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALR,CAUI;;AAVJ;AAYH,OAbO,CAAR;AAcH;;AAED,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAS,MAAA,SAAS,EAAEN,OAAO,CAACE,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKE,KADL,CADJ,eAII,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAEyB,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AASH;;AAzDyB;;AA4D9B,eAAe3B,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from '../../../axios';\r\nimport Post from '../../../components/Post/Post';\r\nimport classes from './Posts.module.css';\r\nimport {Link} from 'react-router-dom'\r\nclass Posts extends Component {\r\n    state = {\r\n        posts: []\r\n    }\r\n    componentDidMount () {\r\n        console.log(this.props);\r\n        axios.get( '/posts')\r\n            .then( response => {\r\n                const posts = response.data.slice(0, 4);\r\n                const updatedPosts = posts.map(post => {\r\n                    return {\r\n                        ...post,\r\n                        author: 'Max'\r\n                    }\r\n                });\r\n                this.setState({posts: updatedPosts});\r\n                // console.log( response );\r\n            } )\r\n            .catch(error => {\r\n                console.log(error);\r\n                // this.setState({error: true});\r\n            });\r\n    }\r\n\r\n    postSelectedHandler = (id) => {\r\n        this.props.history.push({pathname : '/' + id});\r\n        //this.props.history.push( '/' + id);\r\n    }\r\n    \r\n    render () {\r\n        let posts = <p style={{textAlign: 'center'}}>Something went wrong!</p>;\r\n        if (!this.state.error) {\r\n            posts = this.state.posts.map(post => {\r\n                return (\r\n        // when clicked on a post it should get loaded\r\n        // one way is to wrap the post component arount Link and \r\n        // another way is to use postSelectedHandler in post component props\r\n                    //<Link to={'/' + post.id} key={post.id} >\r\n                        <Post \r\n                            key={post.id} \r\n                            title={post.title} \r\n                            author={post.author}\r\n                            clicked={() => this.postSelectedHandler(post.id)} />\r\n                    // </Link>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <section className={classes.Posts}>\r\n                    {posts}\r\n                </section>\r\n                <Route path='/:id' component={FullPost} />\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default Posts;"]},"metadata":{},"sourceType":"module"}